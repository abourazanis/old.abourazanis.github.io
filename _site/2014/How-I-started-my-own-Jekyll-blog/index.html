<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
    <meta name="author" content="" />
    <meta name="description" content="">

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>
      
        How I started my own Jekyll blog - Anastasios Bourazanis
      
    </title>
    <link rel="canonical" href="/2014/How-I-started-my-own-Jekyll-blog/" />

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title=" — Feed" href="//atom.xml">

    <!-- CSS -->
    <link href='/assets/global-50a423ecea1bb9d09cbd90f2a7dc6f69.css' rel='stylesheet' type='text/css' />


    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Lato">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

</head>


  <body>

    <header role="banner" class="sidebar">
  <div class="container sidebar">
    <figure class="profilepic">
      
        <script src="/public/javascripts/md5.js"></script>
        <script type="text/javascript">
          $(function(){
            $('.profilepic').append("<a href='/'><img src='http://www.gravatar.com/avatar/" + MD5("a.bourazanis@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' /></a>");
          });
        </script>
      
    </figure>
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Anastasios Bourazanis
        </a>
      </h1>
      <h2 class="lead"></h2>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </nav>
    <nav class="sidebar-social">
      
      
        <a class="facebook" href="http://www.facebook.com/anastasios.bourazanis" title="Facebook">Facebook</a>
      
      
        <a class="google" href="https://plus.google.com/+AnastasiosBourazanis" rel="author" title="Google+">Google+</a>
      
      
        <a class="twitter" href="http://twitter.com/ABourazanis" title="Twitter">Twitter</a>
      
      
        <a class="github" href="https://github.com/abourazanis" title="GitHub">GitHub</a>
      
      
      
      
        <a class="linkedin" href="http://www.linkedin.com/in/abourazanis" title="LinkedIn">LinkedIn</a>
      
      
      
      
      
      
      
        
        
        <a class="rss" href="/atom.xml" title="RSS">RSS</a>
      
    </nav>

  </div>
</header>


    <div class="content container">
      <article class="post">
<header>
    <div class="meta">
      <div class="date">12 Sep 2014</div>
      

    
        
        
             <div class="categories">
                <a class='category' href='/categories/blog/'>blog</a>, <a class='category' href='/categories/jekyll/'>jekyll</a>, <a class='category' href='/categories/setup/'>setup</a>
            </div>
        
    


       <div class="comments"><a href="/2014/How-I-started-my-own-Jekyll-blog/#disqus_thread">View Comments</a></div> 
    </div>
    <h1 class="post-title">How I started my own Jekyll blog</h1>
  </header>
  <div><p>The idea to start a personal blog was in my mind for quite some time but
I could not motivate enough myself to do it. Even after I read various
posts suggesting that every developer should have one, as a self note
keeper, as a way to improve his communication skills and  his &#39;brand&#39;.</p>

<p>I was feeling that it was not enough fun. Just a
<a href="http://wordpress.org/">WordPress</a> install, a nice looking theme and
that&#39;s all it would take to build it. Boring.</p>

<p>Then I read about <a href="http://jekyllrb.com/">Jekyll</a>,
<a href="http://octopress.org/">Octopress</a> and all the other static site
generators. I was intrigued.</p>

<!--more-->

<p>First I tried Octopress because it was based on Jekyll, the most popular generator,
and because Google search gave more recent results for Octopress than Jekyll etc. Soon I
discovered that with all the extra work already implemented (extra features, plugins etc)
it added a lot of complexity compared to plain Jekyll. So I went for Jekyll.</p>

<h3>Jekyll Setup</h3>

<p>To install Jekyll I just ran :</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install ruby nodejs
sudo gem install jekyll</code></pre></div>

<p>I used the excellent <a href="https://github.com/poole/hyde">Hyde</a> theme as a
base and modified it to my liking. It&#39;s main characteristic is that it
has a two column layout containing a sidebar on the right or left side.</p>

<p>On the downside, it uses plain css (I am fan of <a href="http://sass-lang.com/">Sass</a>)
 and almost none of the new html5 elements. I replaced some divs on the
 layout with some more semantic html5 elements like article, footer, header
 etc and on the next days I will  hopefully migrate on Sass.</p>

<h3>Configuration</h3>

<p>Here is the <code>_config.yml</code> of my blog:</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">markdown</span><span class="p-Indicator">:</span>         <span class="l-Scalar-Plain">redcarpet</span>
<span class="l-Scalar-Plain">highlighter</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">pygments</span>

<span class="c1"># Permalinks</span>
<span class="l-Scalar-Plain">permalink</span><span class="p-Indicator">:</span>        <span class="l-Scalar-Plain">/:year/:title/</span>


<span class="c1"># Setup</span>
<span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span>            <span class="s">&#39;Anastasios</span><span class="nv"> </span><span class="s">Bourazanis&#39;</span>
<span class="l-Scalar-Plain">tagline</span><span class="p-Indicator">:</span>          <span class="s">&#39;Thoughts</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">software</span><span class="nv"> </span><span class="s">development&#39;</span>
<span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span>      <span class="s">&#39;&#39;</span>
<span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span>              <span class="l-Scalar-Plain">http://abourazanis.com</span>
<span class="l-Scalar-Plain">baseurl</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">/</span>

<span class="l-Scalar-Plain">author</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span>           <span class="s">&#39;Anastasios</span><span class="nv"> </span><span class="s">Bourazanis&#39;</span>
  <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">https://twitter.com/ABourazanis</span>
  <span class="l-Scalar-Plain">email</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">a.bourazanis@gmail.com</span>

<span class="l-Scalar-Plain">paginate</span><span class="p-Indicator">:</span>         <span class="l-Scalar-Plain">3</span>


<span class="c1"># Google Analytics</span>
<span class="l-Scalar-Plain">google_analytics_tracking_id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">UA-36113001-3</span>

<span class="c1">#Disqus comments</span>
<span class="l-Scalar-Plain">disqus_short_name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">abourazanis</span>
<span class="l-Scalar-Plain">disqus_show_comment_count</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>


<span class="l-Scalar-Plain">github</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">repo</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">https://github.com/tas0s</span>


<span class="c1"># Social links</span>
<span class="l-Scalar-Plain">facebook_user</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">anastasios.bourazanis</span>
<span class="l-Scalar-Plain">googleplus_user</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">AnastasiosBourazanis</span>
<span class="l-Scalar-Plain">twitter_user</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ABourazanis</span>
<span class="l-Scalar-Plain">github_user</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">tas0s</span>
<span class="l-Scalar-Plain">coderwall_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">stackoverflow_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">linkedin_user</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">abourazanis</span>
<span class="l-Scalar-Plain">pinterest_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">delicious_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">pinboard_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">douban_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">quora_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">instagram_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">behance_user</span><span class="p-Indicator">:</span>
<span class="l-Scalar-Plain">subscribe_rss</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">atom.xml</span>

<span class="c1"># Plugins</span>
<span class="l-Scalar-Plain">gems</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">jemoji</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">jekyll-sitemap</span>

<span class="c1"># Exclude from production _site</span>
<span class="l-Scalar-Plain">exclude</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">Gemfile</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">Gemfile.lock</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">LICENSE</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">README.md</span></code></pre></div>

<p><i>Note: I removed the line about post excerpt due to a <a href="https://github.com/jekyll/jekyll/issues/1401">Jekyll bug</a>
that was preventing the blog from building.</i></p>

<h3>Blog directory structure</h3>

<p>My blog folder looks like this:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">.
├── _assets
<span class="p">|</span>   └──css
<span class="p">|</span>       ├── hyde.css
<span class="p">|</span>       ├── monokai.css
<span class="p">|</span>       └── poole.css
├── _includes
<span class="p">|</span>   ├── categories.html
<span class="p">|</span>   ├── comments.html
<span class="p">|</span>   ├── comments_count.html
<span class="p">|</span>   ├── ga.html
<span class="p">|</span>   ├── head.html
<span class="p">|</span>   ├── sidebar.html
<span class="p">|</span>   └── tags.html
├── _layouts
<span class="p">|</span>   ├── archive.html
<span class="p">|</span>   └── category_index.html
<span class="p">|</span>   └── default.html
<span class="p">|</span>   └── page.html
<span class="p">|</span>   └── post.html
<span class="p">|</span>   └── tags.html
├── _plugins
<span class="p">|</span>   ├── archive_generator.rb
<span class="p">|</span>   └── categories_generator.rb
<span class="p">|</span>   └── jekyll_asset_pipeline.rb
<span class="p">|</span>   └── tags_generator.rb
<span class="p">|</span>   └── youtube.rb
├── _posts
├── public
<span class="p">|</span>   ├── images
<span class="p">|</span>   <span class="p">|</span>   ├──social
<span class="p">|</span>   <span class="p">|</span>   └──me.jpg
<span class="p">|</span>   └── javascripts
<span class="p">|</span>       └──md5.js
├── _site
├── 404.html
├── CNAME
├── LICENCE.md
├── Rakefile
├── _config.yml
├── about.md
├── archive.html
├── atom.xml
├── index.xml
└── robots.txt</code></pre></div>

<h3>Archive Page</h3>

<p>After the base configuration of my blog and the layout modifications, I wanted to have
an archive page based on month. In order to achieve this, I used the following
<a href="http://joseoncode.com/2011/11/27/generating-monthly-archives-with-jekyll/">script</a>
from <a href="http://joseoncode.com/">Jose Romaniello</a> (<code>archive_generator.rb</code>):</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-ruby" data-lang="ruby"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="k">module</span> <span class="nn">Jekyll</span>
  <span class="k">class</span> <span class="nc">ArchiveIndex</span> <span class="o">&lt;</span> <span class="no">Page</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">dir</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="p">)</span>
      <span class="vi">@site</span> <span class="o">=</span> <span class="n">site</span>
      <span class="vi">@base</span> <span class="o">=</span> <span class="n">base</span>
      <span class="vi">@dir</span> <span class="o">=</span> <span class="n">dir</span>
      <span class="vi">@name</span> <span class="o">=</span> <span class="s1">&#39;index.html&#39;</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="vi">@name</span><span class="p">)</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;_layouts&#39;</span><span class="p">),</span> <span class="s1">&#39;archive.html&#39;</span><span class="p">)</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;period&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="n">period</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;period_posts&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="n">posts</span>
      <span class="n">archive_title_prefix</span> <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;archive_title_prefix&#39;</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;Archive: &quot;&#39;</span>
      <span class="n">archive_title_suffix</span> <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;archive_title_suffix&#39;</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;&quot;&#39;</span>
      <span class="k">if</span> <span class="n">period</span><span class="o">[</span><span class="s2">&quot;month&quot;</span><span class="o">]</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;title&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">archive_title_prefix</span><span class="si">}#{</span><span class="n">period</span><span class="o">[</span><span class="s2">&quot;month&quot;</span><span class="o">]</span><span class="si">}</span><span class="s2">-</span><span class="si">#{</span><span class="n">period</span><span class="o">[</span><span class="s2">&quot;year&quot;</span><span class="o">]</span><span class="si">}#{</span><span class="n">archive_title_suffix</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="k">else</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;title&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">archive_title_prefix</span><span class="si">}#{</span><span class="n">period</span><span class="o">[</span><span class="s2">&quot;year&quot;</span><span class="o">]</span><span class="si">}#{</span><span class="n">archive_title_suffix</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="k">class</span> <span class="nc">ArchiveGenerator</span> <span class="o">&lt;</span> <span class="no">Generator</span>
    <span class="n">safe</span> <span class="kp">true</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">site</span><span class="o">.</span><span class="n">layouts</span><span class="o">.</span><span class="n">key?</span> <span class="s1">&#39;archive&#39;</span>
        <span class="n">site</span><span class="o">.</span><span class="n">posts</span><span class="o">.</span><span class="n">group_by</span><span class="p">{</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span> <span class="p">{</span><span class="s2">&quot;month&quot;</span> <span class="o">=&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span> <span class="o">=&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">year</span><span class="p">}</span> <span class="p">}</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="o">|</span>
          <span class="n">archive_dir</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">period</span><span class="o">[</span><span class="s2">&quot;year&quot;</span><span class="o">].</span><span class="n">to_s</span><span class="p">(),</span> <span class="s2">&quot;%02d&quot;</span> <span class="o">%</span> <span class="n">period</span><span class="o">[</span><span class="s2">&quot;month&quot;</span><span class="o">].</span><span class="n">to_s</span><span class="p">())</span>
          <span class="n">write_archive_index</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">archive_dir</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="p">)</span>
        <span class="k">end</span>

        <span class="n">site</span><span class="o">.</span><span class="n">posts</span><span class="o">.</span><span class="n">group_by</span><span class="p">{</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span> <span class="p">{</span><span class="s2">&quot;year&quot;</span> <span class="o">=&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">year</span><span class="p">}</span> <span class="p">}</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="o">|</span>
          <span class="n">archive_dir</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">period</span><span class="o">[</span><span class="s2">&quot;year&quot;</span><span class="o">].</span><span class="n">to_s</span><span class="p">())</span>
          <span class="n">write_archive_index</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">archive_dir</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="p">)</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="k">def</span> <span class="nf">write_archive_index</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">dir</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="p">)</span>
      <span class="n">index</span> <span class="o">=</span> <span class="no">ArchiveIndex</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">site</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">dir</span><span class="p">,</span> <span class="n">period</span><span class="p">,</span> <span class="n">posts</span><span class="p">)</span>
      <span class="n">index</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">layouts</span><span class="p">,</span> <span class="n">site</span><span class="o">.</span><span class="n">site_payload</span><span class="p">)</span>
      <span class="n">index</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>
      <span class="n">site</span><span class="o">.</span><span class="n">pages</span> <span class="o">&lt;&lt;</span> <span class="n">index</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>

<p>For the archive page layout I created the following template (<code>archive.html</code>):</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-html" data-lang="html"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</code></pre></div></td><td class="code"><div class="highlight"><pre>---
layout: default
---
<span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;page-title&quot;</span><span class="nt">&gt;</span>Archive<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;archive-nav&quot;</span><span class="nt">&gt;</span>

{% for post in site.posts %}
  {% capture year %}{{ post.date | date: &#39;%Y&#39; }}{% endcapture %}
  {% capture nyear %}{{ post.next.date | date: &#39;%Y&#39; }}{% endcapture %}
  {% if year != nyear %}
    <span class="nt">&lt;a</span> <span class="err">{%</span> <span class="na">if</span> <span class="na">page</span><span class="err">.</span><span class="na">url</span> <span class="na">contains</span> <span class="na">year</span> <span class="err">%}</span><span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span> <span class="na">href=</span><span class="s">&quot;/{{year}}/&quot;</span><span class="nt">&gt;</span>{{year}}<span class="nt">&lt;/a&gt;</span>
  {% endif %}
{% endfor %}
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;h2&gt;</span> Posts : {% if page.period[&quot;month&quot;] != nil %} {{ page.period[&quot;month&quot;] }} - {% endif %} {{page.period[&quot;year&quot;]}} <span class="nt">&lt;/h2&gt;&lt;br&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">style=</span><span class="s">&quot;list-style-type: none;&quot;</span><span class="nt">&gt;</span>
  {% for post in page.period_posts reversed %}
    {% unless post.next %}
        <span class="nt">&lt;h3&gt;</span>{{ post.date | date: &#39;%Y %b&#39; }}<span class="nt">&lt;/h3&gt;</span>
      {% else %}
        {% capture currPostDate %}{{ post.date | date: &#39;%Y %b&#39; }}{% endcapture %}
        {% capture nextPostDate %}{{ post.next.date | date: &#39;%Y %b&#39; }}{% endcapture %}
        {% if currPostDate != nextPostDate %}
          <span class="nt">&lt;h3&gt;</span>{{ post.date | date: &#39;%Y %b&#39; }}<span class="nt">&lt;/h3&gt;</span>
        {% endif %}
      {% endunless %}

    <span class="nt">&lt;li&gt;</span>{{ post.date | date: &#39;%b %d&#39; }} - <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{post.url}}&quot;</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  {% endfor %}
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table>

<p>With the above code each month will have the corresponding archive page.
I wanted also to have a global archive page so the archives can be accessed from the sidebar menu.
For this, I created the following page (<code>archive.html</code>) on the same level of the <code>about.md</code> and <code>index.html</code> page:</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-html" data-lang="html"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</code></pre></div></td><td class="code"><div class="highlight"><pre>---
layout: page
title: Archive
permalink: /archive/
---

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;archive-nav&quot;</span><span class="nt">&gt;</span>
{% for post in site.posts %}
  {% capture year %}{{ post.date | date: &#39;%Y&#39; }}{% endcapture %}
  {% capture nyear %}{{ post.next.date | date: &#39;%Y&#39; }}{% endcapture %}
  {% if year != nyear %}
    <span class="nt">&lt;a</span> <span class="err">{%</span> <span class="na">if</span> <span class="na">page</span><span class="err">.</span><span class="na">url</span> <span class="na">contains</span> <span class="na">year</span> <span class="err">%}</span><span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="err">{%</span> <span class="na">endif</span> <span class="err">%}</span> <span class="na">href=</span><span class="s">&quot;/{{year}}/&quot;</span><span class="nt">&gt;</span>{{year}}<span class="nt">&lt;/a&gt;</span>
  {% endif %}
{% endfor %}
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;h2&gt;</span> Posts :<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;ul</span> <span class="na">style=</span><span class="s">&quot;list-style-type: none;&quot;</span><span class="nt">&gt;</span>
  {% for post in site.posts %}
    {% unless post.next %}
        <span class="nt">&lt;h3&gt;</span>{{ post.date | date: &#39;%Y %b&#39; }}<span class="nt">&lt;/h3&gt;</span>
      {% else %}
        {% capture currPostDate %}{{ post.date | date: &#39;%Y %b&#39; }}{% endcapture %}
        {% capture nextPostDate %}{{ post.next.date | date: &#39;%Y %b&#39; }}{% endcapture %}
        {% if currPostDate != nextPostDate %}
          <span class="nt">&lt;h3&gt;</span>{{ post.date | date: &#39;%Y %b&#39; }}<span class="nt">&lt;/h3&gt;</span>
        {% endif %}
      {% endunless %}

    <span class="nt">&lt;li&gt;</span>{{ post.date | date: &#39;%b %d&#39; }} - <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{post.url}}&quot;</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  {% endfor %}
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</td></tr></table>

<h3>Categories Page</h3>

<p>I wanted to add a page like the previous archives page but for post categories.
I used <a href="http://www.daveperrett.com/">Dave Perret&#39;s</a> category generator from his
jekyll plugins <a href="https://github.com/recurser/jekyll-plugins">repo</a> (<code>categories_generator.rb</code>).</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">Jekyll</span>

  <span class="c1"># The CategoryIndex class creates a single category page for the specified category.</span>
  <span class="k">class</span> <span class="nc">CategoryPage</span> <span class="o">&lt;</span> <span class="no">Page</span>

    <span class="c1"># Initializes a new CategoryIndex.</span>
    <span class="c1">#</span>
    <span class="c1">#  +template_path+ is the path to the layout template to use.</span>
    <span class="c1">#  +site+          is the Jekyll Site instance.</span>
    <span class="c1">#  +base+          is the String path to the &lt;source&gt;.</span>
    <span class="c1">#  +category_dir+  is the String path between &lt;source&gt; and the category folder.</span>
    <span class="c1">#  +category+      is the category currently being processed.</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">template_path</span><span class="p">,</span> <span class="nb">name</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">category_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="vi">@site</span>  <span class="o">=</span> <span class="n">site</span>
      <span class="vi">@base</span>  <span class="o">=</span> <span class="n">base</span>
      <span class="vi">@dir</span>   <span class="o">=</span> <span class="n">category_dir</span>
      <span class="vi">@name</span>  <span class="o">=</span> <span class="nb">name</span>

      <span class="nb">self</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>

      <span class="k">if</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">template_path</span><span class="p">)</span>
        <span class="vi">@perform_render</span> <span class="o">=</span> <span class="kp">true</span>
        <span class="n">template_dir</span>    <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">template_path</span><span class="p">)</span>
        <span class="n">template</span>        <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">template_path</span><span class="p">)</span>
        <span class="c1"># Read the YAML data from the layout page.</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">read_yaml</span><span class="p">(</span><span class="n">template_dir</span><span class="p">,</span> <span class="n">template</span><span class="p">)</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;category&#39;</span><span class="o">]</span>    <span class="o">=</span> <span class="n">category</span>
        <span class="c1"># Set the title for this page.</span>
        <span class="n">title_prefix</span>             <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;category_title_prefix&#39;</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;Category: &#39;</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;title&#39;</span><span class="o">]</span>       <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">title_prefix</span><span class="si">}#{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="c1"># Set the meta-description for this page.</span>
        <span class="n">meta_description_prefix</span>  <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;category_meta_description_prefix&#39;</span><span class="o">]</span> <span class="o">||</span> <span class="s1">&#39;Category: &#39;</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;description&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">meta_description_prefix</span><span class="si">}#{</span><span class="n">category</span><span class="si">}</span><span class="s2">&quot;</span>
      <span class="k">else</span>
        <span class="vi">@perform_render</span> <span class="o">=</span> <span class="kp">false</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">render?</span>
      <span class="vi">@perform_render</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="c1"># The CategoryIndex class creates a single category page for the specified category.</span>
  <span class="k">class</span> <span class="nc">CategoryIndex</span> <span class="o">&lt;</span> <span class="no">CategoryPage</span>

    <span class="c1"># Initializes a new CategoryIndex.</span>
    <span class="c1">#</span>
    <span class="c1">#  +site+         is the Jekyll Site instance.</span>
    <span class="c1">#  +base+         is the String path to the &lt;source&gt;.</span>
    <span class="c1">#  +category_dir+ is the String path between &lt;source&gt; and the category folder.</span>
    <span class="c1">#  +category+     is the category currently being processed.</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">category_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="n">template_path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;_layouts&#39;</span><span class="p">,</span> <span class="s1">&#39;category_index.html&#39;</span><span class="p">)</span>
      <span class="k">super</span><span class="p">(</span><span class="n">template_path</span><span class="p">,</span> <span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">category_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="c1"># The CategoryFeed class creates an Atom feed for the specified category.</span>
  <span class="k">class</span> <span class="nc">CategoryFeed</span> <span class="o">&lt;</span> <span class="no">CategoryPage</span>

    <span class="c1"># Initializes a new CategoryFeed.</span>
    <span class="c1">#</span>
    <span class="c1">#  +site+         is the Jekyll Site instance.</span>
    <span class="c1">#  +base+         is the String path to the &lt;source&gt;.</span>
    <span class="c1">#  +category_dir+ is the String path between &lt;source&gt; and the category folder.</span>
    <span class="c1">#  +category+     is the category currently being processed.</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">category_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="n">template_path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">&#39;_includes&#39;</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="s1">&#39;category_feed.xml&#39;</span><span class="p">)</span>
      <span class="k">super</span><span class="p">(</span><span class="n">template_path</span><span class="p">,</span> <span class="s1">&#39;atom.xml&#39;</span><span class="p">,</span> <span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">category_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>

      <span class="c1"># Set the correct feed URL.</span>
      <span class="nb">self</span><span class="o">.</span><span class="n">data</span><span class="o">[</span><span class="s1">&#39;feed_url&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">category_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">render?</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="c1"># The Site class is a built-in Jekyll class with access to global site config information.</span>
  <span class="k">class</span> <span class="nc">Site</span>

    <span class="c1"># Creates an instance of CategoryIndex for each category page, renders it, and</span>
    <span class="c1"># writes the output to a file.</span>
    <span class="c1">#</span>
    <span class="c1">#  +category+ is the category currently being processed.</span>
    <span class="k">def</span> <span class="nf">write_category_index</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
      <span class="n">target_dir</span> <span class="o">=</span> <span class="no">GenerateCategories</span><span class="o">.</span><span class="n">category_dir</span><span class="p">(</span><span class="nb">self</span><span class="o">.</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;category_dir&#39;</span><span class="o">]</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="n">index</span>      <span class="o">=</span> <span class="no">CategoryIndex</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="nb">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">target_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">index</span><span class="o">.</span><span class="n">render?</span>
        <span class="n">index</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="nb">self</span><span class="o">.</span><span class="n">layouts</span><span class="p">,</span> <span class="n">site_payload</span><span class="p">)</span>
        <span class="n">index</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">self</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>
        <span class="c1"># Record the fact that this pages has been added, otherwise Site::cleanup will remove it.</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">pages</span> <span class="o">&lt;&lt;</span> <span class="n">index</span>
      <span class="k">end</span>

      <span class="c1"># Create an Atom-feed for each index.</span>
      <span class="n">feed</span> <span class="o">=</span> <span class="no">CategoryFeed</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="nb">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">target_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">feed</span><span class="o">.</span><span class="n">render?</span>
        <span class="n">feed</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="nb">self</span><span class="o">.</span><span class="n">layouts</span><span class="p">,</span> <span class="n">site_payload</span><span class="p">)</span>
        <span class="n">feed</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">self</span><span class="o">.</span><span class="n">dest</span><span class="p">)</span>
        <span class="c1"># Record the fact that this pages has been added, otherwise Site::cleanup will remove it.</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">pages</span> <span class="o">&lt;&lt;</span> <span class="n">feed</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="c1"># Loops through the list of category pages and processes each one.</span>
    <span class="k">def</span> <span class="nf">write_category_indexes</span>
      <span class="k">if</span> <span class="nb">self</span><span class="o">.</span><span class="n">layouts</span><span class="o">.</span><span class="n">key?</span> <span class="s1">&#39;category_index&#39;</span>
        <span class="nb">self</span><span class="o">.</span><span class="n">categories</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">category</span><span class="o">|</span>
          <span class="nb">self</span><span class="o">.</span><span class="n">write_category_index</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
        <span class="k">end</span>

      <span class="c1"># Throw an exception if the layout couldn&#39;t be found.</span>
      <span class="k">else</span>
        <span class="kp">throw</span> <span class="s2">&quot;No &#39;category_index&#39; layout found.&quot;</span>
      <span class="k">end</span>
    <span class="k">end</span>

  <span class="k">end</span>


  <span class="c1"># Jekyll hook - the generate method is called by jekyll, and generates all of the category pages.</span>
  <span class="k">class</span> <span class="nc">GenerateCategories</span> <span class="o">&lt;</span> <span class="no">Generator</span>
    <span class="n">safe</span> <span class="kp">true</span>
    <span class="n">priority</span> <span class="ss">:low</span>

    <span class="no">CATEGORY_DIR</span> <span class="o">=</span> <span class="s1">&#39;categories&#39;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
      <span class="n">site</span><span class="o">.</span><span class="n">write_category_indexes</span>
    <span class="k">end</span>

    <span class="c1"># Processes the given dir and removes leading and trailing slashes. Falls</span>
    <span class="c1"># back on the default if no dir is provided.</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">category_dir</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
      <span class="n">base_dir</span> <span class="o">=</span> <span class="p">(</span><span class="n">base_dir</span> <span class="o">||</span> <span class="no">CATEGORY_DIR</span><span class="p">)</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/^\/*(.*)\/*$/</span><span class="p">,</span> <span class="s1">&#39;\1&#39;</span><span class="p">)</span>
      <span class="n">category</span> <span class="o">=</span> <span class="n">category</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/_|\P{Word}/</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/-{2,}/</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">downcase</span>
      <span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
    <span class="k">end</span>

  <span class="k">end</span>


  <span class="c1"># Adds some extra filters used during the category creation process.</span>
  <span class="k">module</span> <span class="nn">Filters</span>

    <span class="c1"># Outputs a list of categories as comma-separated &lt;a&gt; links. This is used</span>
    <span class="c1"># to output the category list for each post on a category page.</span>
    <span class="c1">#</span>
    <span class="c1">#  +categories+ is the list of categories to format.</span>
    <span class="c1">#</span>
    <span class="c1"># Returns string</span>
    <span class="k">def</span> <span class="nf">category_links</span><span class="p">(</span><span class="n">categories</span><span class="p">)</span>
      <span class="n">base_dir</span> <span class="o">=</span> <span class="vi">@context</span><span class="o">.</span><span class="n">registers</span><span class="o">[</span><span class="ss">:site</span><span class="o">].</span><span class="n">config</span><span class="o">[</span><span class="s1">&#39;category_dir&#39;</span><span class="o">]</span>
      <span class="n">categories</span> <span class="o">=</span> <span class="n">categories</span><span class="o">.</span><span class="n">sort!</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">category</span><span class="o">|</span>
        <span class="n">category_dir</span> <span class="o">=</span> <span class="no">GenerateCategories</span><span class="o">.</span><span class="n">category_dir</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
        <span class="c1"># Make sure the category directory begins with a slash.</span>
        <span class="n">category_dir</span> <span class="o">=</span> <span class="s2">&quot;/</span><span class="si">#{</span><span class="n">category_dir</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">unless</span> <span class="n">category_dir</span> <span class="o">=~</span> <span class="sr">/^\//</span>
        <span class="s2">&quot;&lt;a class=&#39;category&#39; href=&#39;</span><span class="si">#{</span><span class="n">category_dir</span><span class="si">}</span><span class="s2">/&#39;&gt;</span><span class="si">#{</span><span class="n">category</span><span class="si">}</span><span class="s2">&lt;/a&gt;&quot;</span>
      <span class="k">end</span>

      <span class="k">case</span> <span class="n">categories</span><span class="o">.</span><span class="n">length</span>
      <span class="k">when</span> <span class="mi">0</span>
        <span class="s2">&quot;&quot;</span>
      <span class="k">when</span> <span class="mi">1</span>
        <span class="n">categories</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="n">to_s</span>
      <span class="k">else</span>
        <span class="n">categories</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="c1"># Outputs the post.date as formatted html, with hooks for CSS styling.</span>
    <span class="c1">#</span>
    <span class="c1">#  +date+ is the date object to format as HTML.</span>
    <span class="c1">#</span>
    <span class="c1"># Returns string</span>
    <span class="k">def</span> <span class="nf">date_to_html_string</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
      <span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&lt;span class=&quot;month&quot;&gt;&#39;</span> <span class="o">+</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upcase</span> <span class="o">+</span> <span class="s1">&#39;&lt;/span&gt; &#39;</span>
      <span class="n">result</span> <span class="o">+=</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;&lt;span class=&quot;day&quot;&gt;%d&lt;/span&gt; &#39;</span><span class="p">)</span>
      <span class="n">result</span> <span class="o">+=</span> <span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;&lt;span class=&quot;year&quot;&gt;%Y&lt;/span&gt; &#39;</span><span class="p">)</span>
      <span class="n">result</span>
    <span class="k">end</span>

  <span class="k">end</span>

<span class="k">end</span></code></pre></div>

<p>I altered the layout in order to match the rest of my blog (<code>category_index.html</code>):</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="nn">---</span>
<span class="l-Scalar-Plain">layout</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">default</span>
<span class="nn">---</span>


<span class="l-Scalar-Plain">&lt;h1&gt; {{ page.title }} &lt;/h1&gt;&lt;br&gt;</span>
<span class="l-Scalar-Plain">&lt;ul style=&quot;list-style-type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">none;&quot;&gt;</span>
  <span class="l-Scalar-Plain">{% for post in site.categories[page.category] %}</span>
    <span class="l-Scalar-Plain">{% unless post.next %}</span>
        <span class="l-Scalar-Plain">&lt;h3&gt;{{ post.date | date</span><span class="p-Indicator">:</span> <span class="s">&#39;%Y</span><span class="nv"> </span><span class="s">%b&#39;</span> <span class="err">}}</span><span class="l-Scalar-Plain">&lt;/h3&gt;</span>
      <span class="l-Scalar-Plain">{% else %}</span>
        <span class="l-Scalar-Plain">{% capture currPostDate %}{{ post.date | date</span><span class="p-Indicator">:</span> <span class="s">&#39;%Y</span><span class="nv"> </span><span class="s">%b&#39;</span> <span class="err">}}</span><span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">endcapture %</span><span class="p-Indicator">}</span>
        <span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">capture nextPostDate %</span><span class="p-Indicator">}{{</span> <span class="nv">post.next.date | date</span><span class="p-Indicator">:</span> <span class="s">&#39;%Y</span><span class="nv"> </span><span class="s">%b&#39;</span> <span class="p-Indicator">}}{</span><span class="err">%</span> <span class="nv">endcapture %</span><span class="p-Indicator">}</span>
        <span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">if currPostDate != nextPostDate %</span><span class="p-Indicator">}</span>
          <span class="l-Scalar-Plain">&lt;h3&gt;{{ post.date | date</span><span class="p-Indicator">:</span> <span class="s">&#39;%Y</span><span class="nv"> </span><span class="s">%b&#39;</span> <span class="err">}}</span><span class="l-Scalar-Plain">&lt;/h3&gt;</span>
<span class="-Error">        </span><span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">endif %</span><span class="p-Indicator">}</span>
      <span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">endunless %</span><span class="p-Indicator">}</span>

    <span class="l-Scalar-Plain">&lt;li&gt;{{ post.date | date</span><span class="p-Indicator">:</span> <span class="s">&#39;%b</span><span class="nv"> </span><span class="s">%d&#39;</span> <span class="err">}}</span> <span class="err">-</span> <span class="l-Scalar-Plain">&lt;a href=&quot;{{post.url}}&quot;&gt;{{ post.title }}&lt;/a&gt;</span>
    <span class="l-Scalar-Plain">&lt;div class=&quot;meta&quot;&gt;{% include categories.html %}&lt;/div&gt;</span>
<span class="l-Scalar-Plain">&lt;/li&gt;</span>
  <span class="l-Scalar-Plain">{% endfor %}</span>
<span class="l-Scalar-Plain">&lt;/ul&gt;</span></code></pre></div>

<h3>Assets minify</h3>

<p>In order to combine and compress my css and js files I used the
<a href="https://github.com/kitsched/japr">Jekyll Asset Pipeline Reborn</a>.
I just ran:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo gem install japr</code></pre></div>

<p>I moved all my css and js files on a new folder, named <code>_assets</code>
and I added on the <code>head.html</code> the following liquid block in order to include the generated
files</p>

<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">css_asset_tag global %</span><span class="p-Indicator">}</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">/_assets/css/poole.css</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">/_assets/css/monokai.css</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">/_assets/css/hyde.css</span>
<span class="p-Indicator">{</span><span class="err">%</span> <span class="nv">endcss_asset_tag %</span><span class="p-Indicator">}</span></code></pre></div>

<p>Then I created the file <code>categories<em>generator.rb</code> on the <code></em>plugins</code> folder with the following:</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-ruby" data-lang="ruby"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;japr&#39;</span>

<span class="k">module</span> <span class="nn">JAPR</span>
  <span class="k">class</span> <span class="nc">CssCompressor</span> <span class="o">&lt;</span> <span class="no">JAPR</span><span class="o">::</span><span class="no">Compressor</span>
    <span class="nb">require</span> <span class="s1">&#39;yui/compressor&#39;</span>

    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">filetype</span>
      <span class="s1">&#39;.css&#39;</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">compress</span>
      <span class="k">return</span> <span class="no">YUI</span><span class="o">::</span><span class="no">CssCompressor</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="vi">@content</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="nc">JavaScriptCompressor</span> <span class="o">&lt;</span> <span class="no">JAPR</span><span class="o">::</span><span class="no">Compressor</span>
    <span class="nb">require</span> <span class="s1">&#39;yui/compressor&#39;</span>

    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">filetype</span>
      <span class="s1">&#39;.js&#39;</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">compress</span>
      <span class="k">return</span> <span class="no">YUI</span><span class="o">::</span><span class="no">JavaScriptCompressor</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">munge</span><span class="p">:</span> <span class="kp">true</span><span class="p">)</span><span class="o">.</span><span class="n">compress</span><span class="p">(</span><span class="vi">@content</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>

<p>The two last classes are responsible for the compression of css and js files.</p>

<p>That was my blog&#39;s main functionality/features.<br>
For any other feature change or addition I will write a separate post.</p>
</div>
</article>

    <section id="comment">
      <h1 class="title">Comments</h1>
      <div id="disqus_thread">
        <script type="text/javascript">
            var disqus_shortname = 'abourazanis';

            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </section>




<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2014/Amazon-S3-403-forbidden-Error/">
            Amazon S3 403 forbidden Error
            <small>29 Sep 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>
   
     <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'abourazanis'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        </script>


  
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36113001-3', 'auto');
      ga('send', 'pageview');

    </script>



  </body>
</html>
